<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>Tag: java | Private Zone</title>
  
  <meta name="keywords" content="web">
  
  

  

  <meta name="HandheldFriendly" content="True">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.6.3/css/all.min.css">
  

  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.5/css/style.css">
  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
  
</head>

<body>
  
  
  <div class="cover-wrapper">
    <cover class="cover  half">
      
        
  <h1 class="title">Private Zone</h1>


  <div class="m_search">
    <form name="searchform" class="form u-search-form">
      <input type="text" class="input u-search-input" placeholder>
      <i class="icon fas fa-search fa-fw"></i>
    </form>
  </div>

<div class="menu navgation">
  <ul class="h-list">
    
      
        <li>
          <a class="nav home" href="/" id="home">
            <i class="fas fa-rss fa-fw"></i>&nbsp;博文
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/projects/" id="projects">
            <i class="fas fa-code-branch fa-fw"></i>&nbsp;项目
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/friends/" rel="nofollow" id="friends">
            <i class="fas fa-link fa-fw"></i>&nbsp;友链
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/blog/archives/" rel="nofollow" id="blogarchives">
            <i class="fas fa-archive fa-fw"></i>&nbsp;归档
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/about/" rel="nofollow" id="about">
            <i class="fas fa-info-circle fa-fw"></i>&nbsp;关于
          </a>
        </li>
      
        <li>
          <a class="nav home" href="/about/" rel="nofollow" id="about">
            <i class="fas fa-info-circle fa-fw"></i>&nbsp;关于
          </a>
        </li>
      
    
  </ul>
</div>

      
    </cover>
    <header class="l_header pure">
  <div id="loading-bar-wrapper">
    <div id="loading-bar" class="pure"></div>
  </div>

	<div class="wrapper">
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href="/">
        
          Private Zone
        
      </a>
			<div class="menu navgation">
				<ul class="h-list">
          
  					
  						<li>
								<a class="nav flat-box" href="/" id="home">
									<i class="fas fa-grin fa-fw"></i>&nbsp;示例
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/blog/categories/" rel="nofollow" id="blogcategories">
									<i class="fas fa-folder-open fa-fw"></i>&nbsp;分类
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/blog/tags/" rel="nofollow" id="blogtags">
									<i class="fas fa-hashtag fa-fw"></i>&nbsp;标签
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/blog/archives/" rel="nofollow" id="blogarchives">
									<i class="fas fa-archive fa-fw"></i>&nbsp;归档
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/blog/categories/dev/cocoa/" id="blogcategoriesdevcocoa">
									<i class="fab fa-apple fa-fw"></i>&nbsp;Cocoa Dev
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/blog/categories/dev/" id="blogcategoriesdev">
									<i class="fas fa-laptop-code fa-fw"></i>&nbsp;Dev
								</a>
							</li>
      			
  						<li>
								<a class="nav flat-box" href="/blog/categories/life/" rel="nofollow" id="blogcategorieslife">
									<i class="fas fa-coffee fa-fw"></i>&nbsp;Life
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="搜尋">
						<i class="icon fas fa-search fa-fw"></i>
					</form>
				</div>
			
			<ul class="switcher h-list">
				
					<li class="s-search"><a class="fas fa-search fa-fw" href="javascript:void(0)"></a></li>
				
				<li class="s-menu"><a class="fas fa-bars fa-fw" href="javascript:void(0)"></a></li>
			</ul>
		</div>

		<div class="nav-sub container container--flex">
			<a class="logo flat-box"></a>
			<ul class="switcher h-list">
				<li class="s-comment"><a class="flat-btn fas fa-comments fa-fw" href="javascript:void(0)"></a></li>
        
          <li class="s-toc"><a class="flat-btn fas fa-list fa-fw" href="javascript:void(0)"></a></li>
        
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu navgation">
      <ul>
        
          
            <li>
							<a class="nav flat-box" href="/friends/" rel="nofollow" id="friends">
								<i class="fas fa-link fa-fw"></i>&nbsp;我的友链
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="https://xaoxuu.com/wiki/material-x/" rel="nofollow" id="https:xaoxuu.comwikimaterial-x">
								<i class="fas fa-book fa-fw"></i>&nbsp;主题文档
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/about/" rel="nofollow" id="about">
								<i class="fas fa-info-circle fa-fw"></i>&nbsp;关于小站
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/" id="home">
								<i class="fas fa-clock fa-fw"></i>&nbsp;近期文章
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/blog/archives/" rel="nofollow" id="blogarchives">
								<i class="fas fa-archive fa-fw"></i>&nbsp;文章归档
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/projects/" id="projects">
								<i class="fas fa-code-branch fa-fw"></i>&nbsp;开源项目
							</a>
            </li>
          
            <li>
							<a class="nav flat-box" href="/music/" rel="nofollow" id="music">
								<i class="fas fa-compact-disc fa-fw"></i>&nbsp;歌单分享
							</a>
            </li>
          
       
      </ul>
		</nav>
    </header>
	</aside>
<script>setLoadingBarProgress(40);</script>

  </div>


  <div class="l_body">
    <div class='body-wrapper'>
      
<div class="l_main">
  
    
      
  <section class="post-list">
    
      
        
          
        
          
        
      
    
    
      
        
          <div class="post-wrapper">
            <article class="post reveal ">
  


  <section class="meta">
    
    
    <div class="meta" id="header-meta">
      
        
  <h2 class="title">
    <a href="/2019/06/14/java基础/">
      java基础整理
    </a>
  </h2>


      
      <div class="new-meta-box">
        
          
        
          
            
  <div class="new-meta-item author">
    <a href="http://yoursite.com" rel="nofollow">
      
        <i class="fas fa-user" aria-hidden="true"></i>
      
      <p>YY</p>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class="notlink">
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-06-14</p>
  </a>
</div>

          
        
          
            

          
        
          
            

          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <h1 id="java基础"><a href="#java基础" class="headerlink" title="java基础"></a>java基础</h1><ol>
<li><a href="https://blog.csdn.net/yaomingyang/article/details/79321939" target="_blank" rel="noopener"><strong>序列化</strong></a></li>
</ol>
<hr>
<blockquote>
<ul>
<li>将<strong><em>对象</em></strong>的状态信息转化为可以存储或者传输的形式的过程</li>
<li><strong><em>储存媒介</em></strong>档案、记忆缓冲体；网络传输中为：字节或者xml文件</li>
<li><strong><em>反序列化</em></strong>存储形式还原为对象</li>
<li>创建的对象在jvm的stack中，jvm停止对象消失，<strong><em>序列化</em></strong>持久对象需要的时候<strong><em>反序列化</em></strong>恢复</li>
<li>应用场景: RMI(远程方法调用)及网络传输</li>
<li>API接口：java.io.Serializable &amp;&amp; java.io.Externalizable</li>
<li>序列化时，并不保存静态变量: 序列化保存的是对象的状态，静态变量属于类的状态，因此序列化并不保存静态变量</li>
<li>Transient关键字: 控制变量的序列化，在变量声明前加上该关键字，可以阻止该变量被序列化到文件中，在被反序列化后，transient 变量的值被设为初始值</li>
<li>Externalizable继承了Serializable，该接口中定义了两个抽象方法：writeExternal()与readExternal()。当使用Externalizable接口来进行序列化与反序列化的时候需要开发人员重写writeExternal()与readExternal()方法。若不定义这两个方法的实现细节，则输出的内容为空。</li>
<li>在使用Externalizable进行序列化的时候，在读取对象时，会调用被序列化类的无参构造器去创建一个新的对象，然后再将被保存对象的字段的值分别填充到新对象中。所以，实现Externalizable接口的类必须要提供一个public的无参的构造器。</li>
</ul>
</blockquote>
<ol start="2">
<li><a href="https://blog.csdn.net/u012721013/article/details/53199854" target="_blank" rel="noopener"><strong>java编译&amp;&amp;运行</strong></a></li>
</ol>
<hr>
<blockquote>
<ul>
<li>javac将java程序编译成二进制字节码class</li>
<li>jvm虚拟机：加载class 编译成机器码(JIT编译时运行动态编译，AOT先编译后运行) 内存管理</li>
<li>java为跨平台语言，运行在jvm虚拟机上，虚拟机本身处理不同操作系统平台问题</li>
<li>JIT编译&amp;&amp;运行节省空间效率低，编译跟运行共分资源影响运行；</li>
<li>AOT编译完运行，占用空间，运行效率高</li>
</ul>
</blockquote>
<p><a href="https://blog.csdn.net/h1130189083/article/details/78302502" target="_blank" rel="noopener">JIT VS AOT</a><br><a href="https://blog.csdn.net/zhangjg_blog/article/details/20380971" target="_blank" rel="noopener">java虚拟机</a><br><a href="https://www.javatpoint.com/nested-interface" target="_blank" rel="noopener">java基础</a></p>
<ol start="3">
<li><a href="https://stackoverflow.com/questions/861422/is-the-java-virtual-machine-really-a-virtual-machine-in-the-same-sense-as-my-vmw" target="_blank" rel="noopener">jvm vs vmWare</a></li>
</ol>
<hr>
<blockquote>
<ul>
<li>jvm是虚拟进程：程序计数 内存管理 虚拟cpu</li>
<li>启动不同的java程序会启动不同的jvm进程</li>
<li>java程序依赖与jvm进程</li>
<li>vmWare为虚拟机器: 进程管理 i/o cpu 网络i/o</li>
<li>[vmWare vs docker] (<a href="https://stackoverflow.com/questions/16047306/how-is-docker-different-from-a-virtual-machine" target="_blank" rel="noopener">https://stackoverflow.com/questions/16047306/how-is-docker-different-from-a-virtual-machine</a>)</li>
<li>docker应用打包：资源隔离 应用打包 应用依赖 应用的环境变量等</li>
<li><a href="https://juejin.im/post/5b260ec26fb9a00e8e4b031a" target="_blank" rel="noopener">docker虚拟操作系统共享内核</a></li>
<li>容器虚拟化的是操作系统而不是硬件，容器之间是共享同一套操作系统资源的。虚拟机技术是虚拟出一套硬件后，在其上运行一个完整操作系统。因此容器的隔离级别会稍低一些。</li>
<li>docker  </li>
</ul>
</blockquote>
<blockquote>
<blockquote>
<ol>
<li>Docker 是世界领先的软件容器平台。</li>
<li>Docker 使用 Google 公司推出的 Go 语言  进行开发实现，基于 Linux 内核 的cgroup，namespace，以及AUFS类的UnionFS等技术，<strong><em>对进程进行封装隔离</em></strong>，属于<strong><em>操作系统层面的虚拟化技术</em></strong>。 由于隔离的进程独立于宿主和其它的隔离的进程，因此也称其为容器。Docke最初实现是基于 LXC.</li>
<li>Docker 能够自动执行重复性任务，例如搭建和配置开发环境，从而解放了开发人员以便他们专注在真正重要的事情上：构建杰出的软件。</li>
<li>用户可以方便地创建和使用容器，把自己的应用放入容器。容器还可以进行版本管理、复制、分享、修改，就像管理普通的代码一样。</li>
</ol>
</blockquote>
</blockquote>
<ol start="4">
<li><a href="https://blog.csdn.net/briblue/article/details/73824058" target="_blank" rel="noopener">java注解&amp;&amp;反射</a></li>
</ol>
<blockquote>
<ul>
<li>注解类似标签不是程序，通过反射可以获取注解，obj.getclass 利用class获取类中成员 方法 类本身等的注解</li>
<li>注解可以定义期时间周期</li>
<li>反射获取类信息 方法等，方法可以通过invoke执行对应的方法</li>
<li><a href="https://blog.csdn.net/cuiran/article/details/5302074" target="_blank" rel="noopener">invoke示例</a></li>
<li>代码类似如下：</li>
</ul>
</blockquote>
<p><strong><em>主入口：</em></strong></p>
<figure class="highlight plain"><figcaption><span>tags.*;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import java.lang.annotation.Annotation;</span><br><span class="line">import java.lang.reflect.Constructor;</span><br><span class="line">import java.lang.reflect.Field;</span><br><span class="line">import java.lang.reflect.Method;</span><br><span class="line">import java.lang.reflect.Modifier;</span><br><span class="line"></span><br><span class="line">@SuppressWarnings(&quot;deprecation&quot;)</span><br><span class="line">@TestAnnotation()</span><br><span class="line">public class MyAnnotation &#123;</span><br><span class="line"></span><br><span class="line">    @Check</span><br><span class="line">    int a;</span><br><span class="line">    @Perform</span><br><span class="line">    public void testMethod()&#123;&#125;;</span><br><span class="line">    @SuppressWarnings(&quot;deprecation&quot;)</span><br><span class="line">    public void test1()&#123;</span><br><span class="line">        Hero myHero = new Hero();</span><br><span class="line">        myHero.speak();</span><br><span class="line">        myHero.speak();</span><br><span class="line">        int b = a;</span><br><span class="line">        System.out.println(b);</span><br><span class="line">    &#125;</span><br><span class="line">    private int test2(int c, int d)&#123;</span><br><span class="line">        return c+d;</span><br><span class="line">    &#125;</span><br><span class="line">    public MyAnnotation(int ...b )&#123;</span><br><span class="line">        a=b[0];</span><br><span class="line">    &#125;</span><br><span class="line">    public static void main(String[] args)&#123;</span><br><span class="line"></span><br><span class="line">        boolean ifAnnotation = MyAnnotation.class.isAnnotationPresent(TestAnnotation.class);</span><br><span class="line">        if (ifAnnotation)&#123;</span><br><span class="line">            TestAnnotation testAnnotation = MyAnnotation.class.getAnnotation(TestAnnotation.class);</span><br><span class="line">            System.out.println(&quot;the id of annotation is: &quot;+testAnnotation.id());</span><br><span class="line">            System.out.println(&quot;the string of annnotaion is: &quot; + testAnnotation.msg());</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        MyAnnotation myTest = new MyAnnotation(1,2);</span><br><span class="line">        Class myClass = myTest.getClass();</span><br><span class="line">        Field[] myFields = myClass.getDeclaredFields();</span><br><span class="line">        for (Field myField : myFields)&#123;</span><br><span class="line">            System.out.println(myField);</span><br><span class="line">        &#125;</span><br><span class="line">        Method[] methods = myClass.getDeclaredMethods();</span><br><span class="line">        // 示例method.invoke</span><br><span class="line">        // methodXX.invoke(Object obj, Object ...args)利用指定的参数args执行指定对象obj中该方法，返回值为object型</span><br><span class="line">        for (Method method : methods)&#123;</span><br><span class="line">            if (method.getName()==&quot;test2&quot;) &#123;</span><br><span class="line">                try &#123;System.out.println(&quot;res of invoke: &quot;+ method.invoke(myTest, new Object[] &#123;new Integer(10), new Integer(20)&#125;));</span><br><span class="line">                &#125;catch(Exception e)&#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            Field a = MyAnnotation.class.getDeclaredField(&quot;a&quot;);</span><br><span class="line">            a.setAccessible(true);</span><br><span class="line">            Check check = a.getAnnotation(Check.class);</span><br><span class="line">            if (check != null) &#123;</span><br><span class="line">                System.out.println(check.value());</span><br><span class="line">            &#125;</span><br><span class="line">            Constructor[] test = MyAnnotation.class.getConstructors();</span><br><span class="line">            int modifiers = test[0].getModifiers();</span><br><span class="line">            System.out.println(Modifier.isPrivate(modifiers));</span><br><span class="line">            for (Constructor tets : test)&#123;</span><br><span class="line">                System.out.println(&quot;构造函数是否带参数: &quot;+ tets.isVarArgs());</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;catch (NoSuchFieldException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line"></span><br><span class="line">        &#125;catch (SecurityException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong><em>package tags</em></strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">package tags;</span><br><span class="line"></span><br><span class="line">public @interface Check &#123;</span><br><span class="line">	//注解的属性 名为value类型为string默认值为&quot;hi&quot;</span><br><span class="line">    String value() default &quot;hi&quot;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">package tags;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public class Hero &#123;</span><br><span class="line">    @Deprecated()</span><br><span class="line">    public void say()&#123;</span><br><span class="line">        System.out.println(&quot;Noting has to say!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void speak()&#123;</span><br><span class="line">        System.out.println(&quot;I have a dream!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">package tags;</span><br><span class="line"></span><br><span class="line">public @interface Perform &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">package tags;</span><br><span class="line"></span><br><span class="line">import java.lang.annotation.ElementType;</span><br><span class="line">import java.lang.annotation.Retention;</span><br><span class="line">import java.lang.annotation.RetentionPolicy;</span><br><span class="line">import java.lang.annotation.Target;</span><br><span class="line">//target为基本注解限定注解可以使用的范围</span><br><span class="line">@Target(ElementType.TYPE)</span><br><span class="line">// retention限定注解的生命周期</span><br><span class="line">@Retention(RetentionPolicy.RUNTIME)</span><br><span class="line">public @interface TestAnnotation &#123;</span><br><span class="line">    int id() default 1;</span><br><span class="line">    String msg() default &quot;hi&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/java/" rel="nofollow"><i class="fas fa-hashtag fa-fw"></i>java</a>
        
      </div>
    
  </section>
</article>

          </div>
        
      
        
          <div class="post-wrapper">
            <article class="post reveal ">
  


  <section class="meta">
    
    
    <div class="meta" id="header-meta">
      
        
  <h2 class="title">
    <a href="/2019/06/11/java/">
      java：引用
    </a>
  </h2>


      
      <div class="new-meta-box">
        
          
        
          
            
  <div class="new-meta-item author">
    <a href="http://yoursite.com" rel="nofollow">
      
        <i class="fas fa-user" aria-hidden="true"></i>
      
      <p>YY</p>
    </a>
  </div>


          
        
          
            <div class="new-meta-item date">
  <a class="notlink">
    <i class="fas fa-calendar-alt" aria-hidden="true"></i>
    <p>2019-06-10</p>
  </a>
</div>

          
        
          
            

          
        
          
            

          
        
          
            

          
        
      </div>
      
        <hr>
      
    </div>
  </section>


  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <h1 id="java参数传递-vs-c-引用-vs-go指针传递"><a href="#java参数传递-vs-c-引用-vs-go指针传递" class="headerlink" title="java参数传递 vs c++引用 vs go指针传递"></a>java参数传递 vs c++引用 vs go指针传递</h1><ol>
<li><a href="https://blog.csdn.net/dujiangyan101/article/details/2844138" target="_blank" rel="noopener"><strong>c++引用</strong></a></li>
</ol>
<hr>
<blockquote>
<p><strong>引用</strong>  </p>
<ul>
<li>引用不可为空，对象必须存在不可为null  </li>
<li>地址概念：某块内存的别名</li>
<li>引用是别名，地址不可更改</li>
<li>引用使用无需解引*，对引用的赋值为对地址变量的赋值</li>
<li>sizeof引用为引用指向的对象的大小  <blockquote>
 <figure class="highlight plain"><figcaption><span>i </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">int j = 6; </span><br><span class="line">int &amp;k = i; </span><br><span class="line">k = j; // k 和i 的值都变成了6;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
</blockquote>
<ol start="2">
<li><a href="https://blog.csdn.net/jiangnan2014/article/details/22944075" target="_blank" rel="noopener"><strong>java引用</strong></a></li>
</ol>
<hr>
<blockquote>
<p><strong>引用</strong></p>
<ul>
<li>值传递</li>
<li>所有的参数传递都是 传值，从来没有 传引用 这个事实；</li>
<li>所有的参数传递都会在 程序运行栈上 新分配一个 值 的复制品；</li>
<li>java只有按值传递，所谓的按地址(引用)传递，也属于按值传递，只不过这个“值”是个地址;</li>
<li>对于引用类型的传参也是传值的，传的是引用类型的值，其实就是对象的地址；</li>
<li>java所有对像变量都是对像的引用；</li>
<li>函数的形式参数，是传入参数的拷贝；引用变量之间拷贝的是【地址】，基本变量之间拷贝的是 内存中的值 （被称为直接量）；<blockquote>
 <figure class="highlight plain"><figcaption><span>class Test1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        String a = &quot;123&quot;;</span><br><span class="line">        public static void test(Test1 test)</span><br><span class="line">        &#123;</span><br><span class="line">                test.a = &quot;abc&quot;;//更改test指向的内存空间的值</span><br><span class="line">        &#125;</span><br><span class="line">        public static void main(String[] args)</span><br><span class="line">        &#123;</span><br><span class="line">                Test1 test1 = new Test1();</span><br><span class="line">                test1.a = &quot;567&quot;;</span><br><span class="line">                System.out.println(test1.a); //567</span><br><span class="line">                test(test1);//复制test1的地址至test</span><br><span class="line">                System.out.println(test1.a); //abc</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>java引用可以改变引用的地址，java引用.为对引用地址所指向对象的操作，=表示对引用本身的修改（地址)<blockquote>
<figure class="highlight plain"><figcaption><span>class Test</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">        public static void test(StringBuffer str)</span><br><span class="line">        &#123;</span><br><span class="line">                str.append(&quot;world&quot;);//改变引用对象的内存空间的值</span><br><span class="line">                str = new StringBuffer(&quot;world&quot;);//更新地址，并对地址对象赋值，不会改变原值</span><br><span class="line">        &#125;</span><br><span class="line">        public static void main(String[] args)</span><br><span class="line">        &#123;</span><br><span class="line">                StringBuffer str = new StringBuffer(&quot;hello&quot;);</span><br><span class="line">                System.out.println(str);  //hello</span><br><span class="line">                test(str);//复制地址</span><br><span class="line">                System.out.println(str);  //注释掉str.append为hello，否则为hello world</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
</ul>
</blockquote>
<blockquote>
<p><a href="https://juejin.im/post/5bce68226fb9a05ce46a0476" target="_blank" rel="noopener">参考1: java参数传递</a><br><a href="https://pengjiaheng.iteye.com/blog/518623" target="_blank" rel="noopener">参考2: java堆栈</a></p>
</blockquote>
<ol start="3">
<li><strong><a href="https://www.flysnow.org/2018/02/24/golang-function-parameters-passed-by-value.html" target="_blank" rel="noopener">go(c语言)指针传递</a></strong></li>
</ol>
<hr>
<blockquote>
<ul>
<li>类似C语言，函数传值一切皆copy</li>
<li>参数为指针则为指针所指向的地址的值copy</li>
</ul>
</blockquote>
<figure class="highlight plain"><figcaption><span>main</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	fmt.Println(&quot;Hello, playground&quot;)</span><br><span class="line">	var a int = 1</span><br><span class="line">	b := &amp;a</span><br><span class="line">	fmt.Println(&quot;the addr of b: &quot;,&amp;b, &quot;, a: &quot;, &amp;a, &quot; value of b: &quot;, b, &quot;the value of *b: &quot;, *b)</span><br><span class="line">	fun1(b)</span><br><span class="line">	fmt.Println(&quot;2st the addr of b: &quot;,&amp;b, &quot;, a: &quot;, &amp;a, &quot; value of b: &quot;, b, &quot;the value of *b: &quot;, *b)</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func fun1(c *int)&#123;</span><br><span class="line"></span><br><span class="line">fmt.Println(&quot;the add of c: &quot;, &amp;c, &quot;the value of c: &quot;, c, &quot;the value of *c: &quot;, *c)</span><br><span class="line">var d int = 2</span><br><span class="line">c = &amp;d</span><br><span class="line">fmt.Println(&quot;2 st the add of c: &quot;, &amp;c, &quot;the value of c: &quot;, c, &quot;the value of *c: &quot;, *c)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Hello, playground<br>the addr of b:  0x40c130 , a:  0x414020  value of b:  0x414020 the value of *b:  1  </p>
<p>the add of c:  0x40c138 the value of c:  0x414020 the value of *c:  1  </p>
<p>2 st the add of c:  0x40c138 the value of c:  0x41402c the value of *c:  2  </p>
<p>2st the addr of b:  0x40c130 , a:  0x414020  value of b:  0x414020 the value of *b:  1</p>
<blockquote>
<p>传map</p>
</blockquote>
<figure class="highlight plain"><figcaption><span>main</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import (</span><br><span class="line">	&quot;fmt&quot;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">func main() &#123;</span><br><span class="line">	fmt.Println(&quot;Hello, playground&quot;)</span><br><span class="line">	a := make(map[int]int)</span><br><span class="line">	a[1]=3</span><br><span class="line">	fmt.Printf(&quot;1st a[1] is: %d addr of map:%p \n&quot;, a[1],&amp;a)</span><br><span class="line">	fun1(a)</span><br><span class="line">	fmt.Printf(&quot;1st a[1] is: %d addr of map:%p \n&quot;, a[1],&amp;a)</span><br><span class="line"></span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func fun1(c map[int]int)&#123;</span><br><span class="line">fmt.Printf(&quot;1st c[1] is: %d addr of map:%p \n&quot;, c[1],&amp;c)</span><br><span class="line">c=make(map[int]int)</span><br><span class="line">c[1]=4</span><br><span class="line">fmt.Printf(&quot;1st c[1] is: %d addr of map:%p \n&quot;, c[1],&amp;c)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Hello, playground</p>
</blockquote>
<blockquote>
<p>1st a[1] is: 3 addr of map:0x40c130  </p>
</blockquote>
<blockquote>
<p>1st c[1] is: 3 addr of map:0x40c138  </p>
</blockquote>
<blockquote>
<p>1st c[1] is: 4 addr of map:0x40c138   </p>
</blockquote>
<blockquote>
<p>1st a[1] is: 3 addr of map:0x40c130 </p>
</blockquote>
<ol start="4">
<li><strong><a href="https://blog.csdn.net/luoshenfu001/article/details/8601494" target="_blank" rel="noopener">小结：以c++为准</a></strong></li>
</ol>
<hr>
<blockquote>
<ul>
<li>参数列表，初始化之后不可更改，名称：值</li>
<li>指针为独立的参数，其参数列表中值为本身的地址，初始化之后不可变更</li>
<li>引用作为别名，其参数列表值为引用变量的地址，初始化之后不可变更</li>
<li>指针指向的地址可以可变，引用引用的地址不可改变（参数列表的初始化)</li>
<li>对指针的操作及运算为指针本身的运算eg:++指针指向的地址++</li>
<li>对引用的运算为引用所引用的对象本身的运算</li>
<li>const int *p， p指向的变量为常量，p可以指向不同的常量</li>
<li>int const * p, p不可改变其指向，其指向的对象为变量</li>
<li>与语言内存模型相关</li>
<li>一般分为堆、栈，堆为数据区（malloc calloc 数组 map chan 对象包括对象成员参数），栈为运行时变量区（局部变量）</li>
</ul>
</blockquote>

      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/java/" rel="nofollow"><i class="fas fa-hashtag fa-fw"></i>java</a>
        
      </div>
    
  </section>
</article>

          </div>
        
      
    
  </section>
  
    
    <!-- 根据主题中的设置决定是否在archive中针对摘要部分的MathJax公式加载mathjax.js文件 -->
    
    

  


    
  
</div>
<aside class="l_side">
  
    
    
      
        
          
          
            <section class="widget author">
  <div class="content pure">
    
      <div class="avatar">
        <img class="avatar" src="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/avatar/avatar.png">
      </div>
    
    
    
      <div class="social-wrapper">
        
          
            <a href="/atom.xml" class="social fas fa-rss flat-btn" target="_blank" rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="mailto:me@xaoxuu.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://github.com/xaoxuu" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer">
            </a>
          
        
          
            <a href="https://music.163.com/#/user/home?id=63035382" class="social fas fa-headphones-alt flat-btn" target="_blank" rel="external nofollow noopener noreferrer">
            </a>
          
        
      </div>
    
  </div>
</section>

          
        
      
        
          
          
            

          
        
      
        
          
          
            <section class="widget grid">
  
<header class="pure">
  <div><i class="fas fa-map-signs fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;站内导航</div>
  
</header>

  <div class="content pure">
    <ul class="grid navgation">
      
        <li><a class="flat-box" title="/" href="/" id="home">
          
            <i class="fas fa-clock fa-fw" aria-hidden="true"></i>
          
          近期文章
        </a></li>
      
        <li><a class="flat-box" title="/blog/archives/" href="/blog/archives/" rel="nofollow" id="blogarchives">
          
            <i class="fas fa-archive fa-fw" aria-hidden="true"></i>
          
          文章归档
        </a></li>
      
        <li><a class="flat-box" title="/projects/" href="/projects/" id="projects">
          
            <i class="fas fa-code-branch fa-fw" aria-hidden="true"></i>
          
          开源项目
        </a></li>
      
        <li><a class="flat-box" title="/friends/" href="/friends/" rel="nofollow" id="friends">
          
            <i class="fas fa-link fa-fw" aria-hidden="true"></i>
          
          我的友链
        </a></li>
      
        <li><a class="flat-box" title="https://xaoxuu.com/wiki/material-x/" href="https://xaoxuu.com/wiki/material-x/" rel="nofollow" id="https:xaoxuu.comwikimaterial-x">
          
            <i class="fas fa-book fa-fw" aria-hidden="true"></i>
          
          主题文档
        </a></li>
      
        <li><a class="flat-box" title="/about/" href="/about/" rel="nofollow" id="about">
          
            <i class="fas fa-info-circle fa-fw" aria-hidden="true"></i>
          
          关于小站
        </a></li>
      
    </ul>
  </div>
</section>

          
        
      
        
          
          
            
  <section class="widget category">
    
<header class="pure">
  <div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;文章分類</div>
  
    <a class="rightBtn" rel="nofollow" href="/blog/categories/" title="blog/categories/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class="content pure">
      <ul class="entry">
        
          <li><a class="flat-box" title="/categories/云服务器/" href="/categories/云服务器/"><div class="name">云服务器</div><div class="badge">(1)</div></a></li>
        
      </ul>
    </div>
  </section>


          
        
      
        
          
          
            
  <section class="widget tagcloud">
    
<header class="pure">
  <div><i class="fas fa-fire fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;熱門標籤</div>
  
    <a class="rightBtn" rel="nofollow" href="/blog/tags/" title="blog/tags/">
    <i class="fas fa-expand-arrows-alt fa-fw"></i></a>
  
</header>

    <div class="content pure">
      <a href="/tags/go/" style="font-size: 14px; color: #999">go</a> <a href="/tags/go-内存/" style="font-size: 14px; color: #999">go,内存</a> <a href="/tags/http1-0-2/" style="font-size: 14px; color: #999">http1.0-2</a> <a href="/tags/java/" style="font-size: 24px; color: #555">java</a> <a href="/tags/java-spring-boot/" style="font-size: 14px; color: #999">java, spring boot</a> <a href="/tags/java-异常/" style="font-size: 14px; color: #999">java, 异常</a> <a href="/tags/tcp-ip/" style="font-size: 14px; color: #999">tcp/ip</a> <a href="/tags/webSocket/" style="font-size: 14px; color: #999">webSocket</a>
    </div>
  </section>


          
        
      
        
          
          
            

          
        
      
        
          
          
            


  <section class="widget music">
    
<header class="pure">
  <div><i class="fas fa-compact-disc fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;最近在听</div>
  
    <a class="rightBtn" rel="external nofollow noopener noreferrer" target="_blank" href="https://music.163.com/#/user/home?id=63035382" title="https://music.163.com/#/user/home?id=63035382">
    <i class="far fa-heart fa-fw"></i></a>
  
</header>

    <div class="content pure">
      
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.css">
  <div class="aplayer" data-theme="#1BCDFC" data-mode="circulation" data-server="netease" data-type="playlist" data-id="2615636388" data-volume="0.7">
  </div>
  <script src="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>


    </div>
  </section>


          
        
      
    

  
</aside>

<footer id="footer" class="clearfix">
  
  
    <div class="social-wrapper">
      
        
          <a href="/atom.xml" class="social fas fa-rss flat-btn" target="_blank" rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="mailto:me@xaoxuu.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://github.com/xaoxuu" class="social fab fa-github flat-btn" target="_blank" rel="external nofollow noopener noreferrer">
          </a>
        
      
        
          <a href="https://music.163.com/#/user/home?id=63035382" class="social fas fa-headphones-alt flat-btn" target="_blank" rel="external nofollow noopener noreferrer">
          </a>
        
      
    </div>
  
  <br>
  <div><p>博客內容遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh_TW">姓名標示-非商業性-相同方式分享 4.0 國際 (CC BY-NC-SA 4.0) 協議</a></p>
</div>
  <div>
    本站使用
    <a href="https://xaoxuu.com/wiki/material-x/" target="_blank" class="codename">Private Zone</a>
    as theme
    
      ，
      total visits
      <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span>
      times
    
    。
  </div>
</footer>
<script>setLoadingBarProgress(80);</script>


      <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>

<script src="//instant.page/1.2.2" type="module" integrity="sha384-2xV8M5griQmzyiY3CDqh1dn4z3llDVqZDqzjzcY+jCBCk/a5fXJmuZ/40JJAPeoU"></script>


  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>




  
  
  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-backstretch/2.0.4/jquery.backstretch.min.js"></script>
    <script type="text/javascript">
      $(function(){
        if ('.cover') {
          $('.cover').backstretch(
          ["https://img.vim-cn.com/6d/a0c9e6f9efad8b731cb7376504bd10d79d2053.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        } else {
          $.backstretch(
          ["https://img.vim-cn.com/6d/a0c9e6f9efad8b731cb7376504bd10d79d2053.jpg"],
          {
            duration: "6000",
            fade: "2500"
          });
        }
      });
    </script>
  











  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.5/js/app.js"></script>


  <script src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-material-x@19.5/js/search.js"></script>




<!-- 复制 -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "複製成功";
  let COPY_FAILURE = "複製失敗";
  /*页面载入完成后，创建复制按钮*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>複製</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //您可以加入成功提示
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //您可以加入失败提示
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * 弹出式提示框，默认1.5秒自动消失
   * @param message 提示信息
   * @param style 提示样式，有alert-success、alert-danger、alert-warning、alert-info
   * @param time 消失时间
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // 成功提示
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // 失败提示
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // 提醒
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // 信息提示
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("fancybox").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* 图片采用懒加载处理时,
       * 一般图片标签内会有个属性名来存放图片的真实地址，比如 data-original,
       * 那么此处将原本的属性名src替换为对应属性名data-original,
       * 修改如下
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





  <script>setLoadingBarProgress(100);</script>
</body>
</html>
